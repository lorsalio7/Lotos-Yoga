"use strict";window.addEventListener("DOMContentLoaded",(()=>{function e(e,t,o){let r;return function(){const n=this,i=arguments,a=o&&!r;clearTimeout(r),r=setTimeout((()=>{r=null,o||e.apply(n,i)}),t),a&&e.apply(n,i)}}let t=new Splide(".main-slider",{direction:"ttb",height:"calc(var(--vh) * 100)",wheel:!0,speed:500,arrows:!1,pagination:!1,lazyLoad:"nearby"});t.mount(),window.addEventListener("resize",(()=>{t.options.height="calc(var(--vh) * 100)",t.refresh()}));let o=document.querySelector(".next-slide-button"),r=o.querySelector(".next-slide-button__icon g"),n=document.querySelectorAll(".main-slider .splide__slide")[0],i=document.querySelector(".current-slider-number"),a=document.querySelector(".total-slider-number"),l=document.querySelector(".current-slide-title"),s=document.querySelector(".next-prev-slider-title"),c=document.querySelectorAll(".site-menu-link"),d=(Array.from(c[0].classList).join(" "),!1);function u(e){e.preventDefault();let o=e.target;t.go(Number(o.dataset.linkSlide)-1),h()}c.forEach((e=>{e.addEventListener("click",u)}));let m=!0;function f(){return m=t.index!==t.length-1}function p(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}o.addEventListener("click",(()=>{f(),m?t.go("+1"):t.go("-1")})),l.textContent=n.dataset.slideTitle,t.length<10?a.textContent="0"+t.length:a.textContent=t.length,t.on("move",(()=>{i.textContent=t.index<9?"0"+(t.index+1):t.index+1})),t.on("active",(e=>{f(),l.textContent=e.slide.dataset.slideTitle;let t=e.slide.nextElementSibling;if(t){let e=t.dataset.slideTitle;s.textContent=e,r.classList.remove("rotate-180")}else r.classList.add("rotate-180"),s.textContent="Вернуться";var o,n;"Контакты"!=l.textContent||d||(N(),d=!0),o=e.index,n="text-black-50",c.forEach((e=>{e.classList.add(n),Number(e.dataset.linkSlide)-1===o&&e.classList.remove(n)}))})),p(),window.addEventListener("resize",(()=>{p()}));const b=document.querySelector(".burger-button"),y=document.querySelector(".site-navigation"),v=Array.from(y.classList).join(" "),g=b.querySelector(".burger-button__dot"),L=Array.from(g.classList).join(" "),x=b.querySelector(".burger-button__line"),w=Array.from(x.classList).join(" ");function h(){g.className=L,x.className=w,y.className=v,b.classList.remove("burger-button--active")}b.addEventListener("click",(()=>{b.classList.toggle("burger-button--active"),b.classList.contains("burger-button--active")?(g.className="burger-button__dot absolute top-2/4 left-0 block w-[2px] h-[2px] bg-black opacity-0 transition-opacity duration-200 ease-linear before:content-[''] before:absolute before:left-0 before:top-[-7px] before:block before:w-[2px] before:h-[2px] before:bg-black before:opacity-0 before:transition-opacity before:duration-200 before:ease-linear after:content-[''] after:absolute after:left-0 after:top-[7px] after:block after:w-[2px] after:h-[2px] after:bg-black after:opacity-0 after:transition-opacity after:duration-200 after:ease-linear",x.className="burger-button__line absolute top-1/2 left-1 block w-5 h-[2px] bg-transparent transition-[background-color] duration-200 ease-linear delay-200 before:content-[''] before:absolute before:top-0 before:left-0 before:-rotate-45 before:block before:w-5 before:h-[2px] before:bg-tan-hide before:transition-[top,transform] before:duration-[0.2s,0.2s] before:ease-[linear,linear] before:delay-[0.4s,0.6s] after:content-[''] after:absolute after:top-0 after:left-0 after:block after:w-5 after:rotate-45 after:h-[2px] after:bg-tan-hide after:transition-[width,top,transform] after:duration-[0.2s,0.2s,0.2s] after:ease-[linear,linear,linear] after:delay-[0.2s,0.4s,0.6s]",y.className="site-navigation pointer-events-auto fixed inset-x-0 translate-y-0 inset-y-0 z-10 h-full overflow-y-auto bg-dawn-pink-90 transition-transform duration-500 linear p-7"):h()}));let S=document.querySelector(".directions-slider");if(S){S=new Splide(S,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0});let H=document.querySelector(".directions-slider-title-caption"),P=document.querySelector(".direction-slider-pagination"),M=document.querySelector(".direction-slider-pagination-runner"),j=document.querySelector(".directions-slider-left-arrow"),I=document.querySelector(".directions-slider-right-arrow");S.on("mounted updated",(function(e){P.innerHTML="",S.Components.Elements.slides.forEach(((e,t)=>{let o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("direction-slider-pagination-button","text-black-50","mb-[20px]","text-[18px]"),o.textContent=e.dataset.directionTitle,0===t&&o.classList.add("active","text-black"),o.addEventListener("click",(()=>{S.go(t)})),P.appendChild(o)}));let t=document.querySelectorAll(".direction-slider-pagination-button");S.on("active",(e=>{let o=Number(S.index);H.textContent=e.slide.dataset.directionTitle,function(e){let o=e;t.forEach(((e,t)=>{t===o?(e.classList.remove("text-black-50"),e.classList.add("active","text-black"),M.style.top="".concat(e.offsetTop,"px")):(e.classList.add("text-black-50"),e.classList.remove("active","text-black"))}))}(o)}))})),S.mount(),j.addEventListener("click",(()=>{S.go("-1")})),I.addEventListener("click",(()=>{S.go("+1")}))}let k=document.querySelector(".trainers-slider"),q=document.querySelector(".trainers-photo-slider");if(k){k=new Splide(k,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0,lazyLoad:"nearby"}),q=new Splide(q,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0}),k.sync(q);let D=document.querySelector(".trainers-slider-left-arrow"),O=document.querySelector(".trainers-slider-right-arrow"),B=document.querySelector(".trainers-slider-pagination"),F=document.querySelector(".trainers-slider-pagination-runner");k.on("mounted updated",(function(e){B.innerHTML="",k.Components.Elements.slides.forEach(((e,t)=>{let o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("trainers-slider-pagination-button","text-black-50","mb-[16px]","text-[18px]"),o.textContent=e.dataset.trainerName,0===t&&o.classList.add("active","text-black"),o.addEventListener("click",(()=>{k.go(t)})),B.appendChild(o)}));let t=B.querySelectorAll(".trainers-slider-pagination-button");k.on("active",(e=>{!function(e){let o=e;t.forEach(((e,t)=>{t===o?(e.classList.remove("text-black-50"),e.classList.add("active","text-black"),F.style.top="".concat(e.offsetTop,"px")):(e.classList.add("text-black-50"),e.classList.remove("active","text-black"))}))}(Number(k.index))}))})),k.mount(),q.mount(),D.addEventListener("click",(()=>{k.go("-1")})),O.addEventListener("click",(()=>{k.go("+1")}))}let E=document.querySelector(".reviews-slider");if(E){E=new Splide(E,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0});let R=document.querySelector(".reviews-slider-left-arrow"),U=document.querySelector(".reviews-slider-right-arrow"),V=document.querySelector(".reviews-slider-pagination"),W=document.querySelector(".reviews-slider-pagination-runner");E.on("mounted updated",(function(e){V.innerHTML="",E.Components.Elements.slides.forEach(((e,t)=>{let o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("reviews-slider-pagination-button","text-black-50","mb-[16px]","text-[18px]"),o.textContent=e.dataset.reviewsName,0===t&&o.classList.add("active","text-black"),o.addEventListener("click",(()=>{E.go(t)})),V.appendChild(o)}));let t=V.querySelectorAll(".reviews-slider-pagination-button");E.on("active",(e=>{!function(e){let o=e;t.forEach(((e,t)=>{t===o?(e.classList.remove("text-black-50"),e.classList.add("active","text-black"),W.style.top="".concat(e.offsetTop,"px")):(e.classList.add("text-black-50"),e.classList.remove("active","text-black"))}))}(Number(E.index))}))})),E.mount(),R.addEventListener("click",(()=>{E.go("-1")})),U.addEventListener("click",(()=>{E.go("+1")}))}let C=document.querySelector(".reviews");if(C){let Y=document.querySelector(".reviews-modal"),Z=Y.querySelector(".modal-container"),G=Y.querySelector(".modal-body"),J=Y.querySelector(".close-button"),K=Y.querySelector(".modal-content"),Q=document.querySelectorAll(".reviews-text-container"),X=document.querySelectorAll(".reviews-read-all-button"),$=[];function ee(){X[0].offsetWidth>0&&X[0].offsetHeight>0&&Q.forEach((e=>{let t=Array.from(e.querySelectorAll("p")),o=t[0].className,r=[];for(let e=0;e<t.length;e++){let n=t[e].cloneNode(!0);n.className=o,r.push(n)}$.push(r)}))}function te(e){Y.style.display="flex",setTimeout((()=>{Y.classList.add("opacity-100","reviews-modal--active"),Z.classList.add("opacity-100","translate-y-0")}),10);let t=$[e];K.innerHTML="",t.forEach((e=>{K.appendChild(e.cloneNode(!0))})),Y.addEventListener("click",(e=>{(!e.target===G&&Y.classList.contains("reviews-modal--active")||e.target===Y||e.target===J)&&oe()}))}function oe(){Y.classList.remove("opacity-100","reviews-modal--active"),Z.classList.remove("opacity-100","translate-y-0"),setTimeout((()=>{Y.removeAttribute("style"),K.innerHTML=""}),400),Y.removeEventListener("click",oe)}ee(),window.addEventListener("resize",e((()=>{ee()}),300)),X.forEach(((e,t)=>{e.addEventListener("click",(()=>{te(t)}))}))}if(C){function re(){let e=document.querySelector(".reviews-right-col").offsetHeight;document.documentElement.style.setProperty("--pagination-height","".concat(e,"px"))}re(),window.addEventListener("resize",e((()=>{re()}),300))}let T=document.querySelector(".send-review-button");if(T){let ne=document.querySelector(".contacts-review-form"),ie=ne.querySelector(".close-review-form-button"),ae=document.querySelector(".sign-up-button");function le(){ne.classList.remove("hidden"),ne.classList.add("block"),ae.classList.remove("shadow-button"),setTimeout((()=>{ne.classList.add("opacity-100")}),10)}function se(){ne.classList.remove("opacity-100"),setTimeout((()=>{ne.classList.add("hidden"),ne.classList.remove("block"),ae.classList.add("shadow-button")}),550)}T.addEventListener("click",le),ie.addEventListener("click",se)}let A=document.getElementById("slider-splide");setTimeout((()=>{let e=document.createElement("script");e.setAttribute("src","https://api-maps.yandex.ru/2.1/?apikey=34aee372-ec8f-4fe4-a941-87d490ddd366&lang=ru_RU"),A.insertAdjacentElement("afterend",e)}),5e3);let N,_=document.querySelector("#contacts-map");_&&(N=function(){function t(){_.container.fitToViewport()}document.cookie="sameSite=Strict",ymaps.ready((function(){_=new ymaps.Map(_,{center:[59.931765080896845,30.35767835426295],zoom:17});let o=new ymaps.Placemark([59.931765080896845,30.35767835426295],{},{iconLayout:"default#image",iconImageHref:"img/pin-map.svg",iconImageSize:[49,60],iconImageOffset:[-19,-44]});window.addEventListener("resize",e((()=>{t()}),300)),window.addEventListener("orientationchange",e((()=>{t()}),300)),_.geoObjects.add(o),_.behaviors.disable(["scrollZoom"]),_.controls.remove("zoomControl"),_.controls.remove("geolocationControl"),_.controls.remove("routeEditor"),_.controls.remove("trafficControl"),_.controls.remove("typeSelector"),_.controls.remove("fullscreenControl"),_.controls.remove("searchControl"),_.controls.remove("rulerControl"),_.controls.remove("routeButtonControl"),_.controls.remove("routePanelControl")}))});let z=document.querySelector(".copyright-year");z&&(z.textContent=(new Date).getFullYear())}));