"use strict";window.addEventListener("DOMContentLoaded",(()=>{function e(e,t,r){let o;return function(){const n=this,i=arguments,a=r&&!o;clearTimeout(o),o=setTimeout((()=>{o=null,r||e.apply(n,i)}),t),a&&e.apply(n,i)}}function t(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}t(),window.addEventListener("resize",(()=>{t()}));let r=new Splide(".main-slider",{direction:"ttb",height:"100vh",wheel:!0,speed:500,arrows:!1,pagination:!1});r.mount();let o=document.querySelector(".next-slide-button"),n=o.querySelector(".next-slide-button__icon svg"),i=document.querySelectorAll(".main-slider .splide__slide")[0],a=document.querySelector(".current-slider-number"),l=document.querySelector(".total-slider-number"),s=document.querySelector(".current-slide-title"),c=document.querySelector(".next-prev-slider-title"),d=document.querySelectorAll(".site-menu-link");Array.from(d[0].classList).join(" ");function u(e){e.preventDefault();let t=e.target;r.go(Number(t.dataset.linkSlide)-1),w()}d.forEach((e=>{e.addEventListener("click",u)}));let m=!0;function f(){return m=r.index!==r.length-1}o.addEventListener("click",(()=>{f(),m?r.go("+1"):r.go("-1")})),s.textContent=i.dataset.slideTitle,r.length<10?l.textContent="0"+r.length:l.textContent=r.length,r.on("move",(()=>{a.textContent=r.index<9?"0"+(r.index+1):r.index+1})),r.on("active",(e=>{f(),s.textContent=e.slide.dataset.slideTitle;let t=e.slide.nextElementSibling;if(t){let e=t.dataset.slideTitle;c.textContent=e,n.setAttribute("transform","rotate(0 0 0)")}else n.setAttribute("transform","rotate(-180 0 0)"),c.textContent="Вернуться";var r,o;r=e.index,o="text-black-50",d.forEach((e=>{e.classList.add(o),Number(e.dataset.linkSlide)-1===r&&e.classList.remove(o)}))}));const p=document.querySelector(".burger-button"),b=document.querySelector(".site-navigation"),y=Array.from(b.classList).join(" "),v=p.querySelector(".burger-button__dot"),g=Array.from(v.classList).join(" "),x=p.querySelector(".burger-button__line"),L=Array.from(x.classList).join(" ");function w(){v.className=g,x.className=L,b.className=y,p.classList.remove("burger-button--active")}p.addEventListener("click",(()=>{p.classList.toggle("burger-button--active"),p.classList.contains("burger-button--active")?(v.className="burger-button__dot absolute top-2/4 left-0 block w-[2px] h-[2px] bg-black opacity-0 transition-opacity duration-200 ease-linear before:content-[''] before:absolute before:left-0 before:top-[-7px] before:block before:w-[2px] before:h-[2px] before:bg-black before:opacity-0 before:transition-opacity before:duration-200 before:ease-linear after:content-[''] after:absolute after:left-0 after:top-[7px] after:block after:w-[2px] after:h-[2px] after:bg-black after:opacity-0 after:transition-opacity after:duration-200 after:ease-linear",x.className="burger-button__line absolute top-2/4 left-1 block w-5 h-[2px] bg-transparent transition-[background-color] duration-200 ease-linear delay-200 before:content-[''] before:absolute before:top-0 before:left-0 before:-rotate-45 before:block before:w-5 before:h-[2px] before:bg-tan-hide before:transition-[top,transform] before:duration-[0.2s,0.2s] before:ease-[linear,linear] before:delay-[0.4s,0.6s] after:content-[''] after:absolute after:top-0 after:left-0 after:block after:w-5 after:rotate-45 after:h-[2px] after:bg-tan-hide after:transition-[width,top,transform] after:duration-[0.2s,0.2s,0.2s] after:ease-[linear,linear,linear] after:delay-[0.2s,0.4s,0.6s]",b.className="site-navigation pointer-events-auto fixed inset-x-0 translate-y-0 inset-y-0 z-10 h-full overflow-y-auto bg-dawn-pink-90 transition-transform duration-500 linear p-7"):w()}));let S=document.querySelector(".directions-slider");if(S){S=new Splide(S,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0});let N=document.querySelector(".directions-slider-title-caption"),_=document.querySelector(".direction-slider-pagination"),H=document.querySelector(".direction-slider-pagination-runner"),z=document.querySelector(".directions-slider-left-arrow"),M=document.querySelector(".directions-slider-right-arrow");S.on("mounted updated",(function(e){_.innerHTML="",S.Components.Elements.slides.forEach(((e,t)=>{let r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("direction-slider-pagination-button","text-black-50","mb-[20px]","text-[18px]"),r.textContent=e.dataset.directionTitle,0===t&&r.classList.add("active","text-black"),r.addEventListener("click",(()=>{S.go(t)})),_.appendChild(r)}));let t=document.querySelectorAll(".direction-slider-pagination-button");S.on("active",(e=>{let r=Number(S.index);N.textContent=e.slide.dataset.directionTitle,function(e){let r=e;t.forEach(((e,t)=>{t===r?(e.classList.remove("text-black-50"),e.classList.add("active","text-black"),H.style.top=`${e.offsetTop}px`):(e.classList.add("text-black-50"),e.classList.remove("active","text-black"))}))}(r)}))})),S.mount(),z.addEventListener("click",(()=>{S.go("-1")})),M.addEventListener("click",(()=>{S.go("+1")}))}let h=document.querySelector(".trainers-slider"),k=document.querySelector(".trainers-photo-slider");if(h){h=new Splide(h,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0}),k=new Splide(k,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0}),h.sync(k);let P=document.querySelector(".trainers-slider-left-arrow"),j=document.querySelector(".trainers-slider-right-arrow"),$=document.querySelector(".trainers-slider-pagination"),D=document.querySelector(".trainers-slider-pagination-runner");h.on("mounted updated",(function(e){$.innerHTML="",h.Components.Elements.slides.forEach(((e,t)=>{let r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("trainers-slider-pagination-button","text-black-50","mb-[16px]","text-[18px]"),r.textContent=e.dataset.trainerName,0===t&&r.classList.add("active","text-black"),r.addEventListener("click",(()=>{h.go(t)})),$.appendChild(r)}));let t=$.querySelectorAll(".trainers-slider-pagination-button");h.on("active",(e=>{!function(e){let r=e;t.forEach(((e,t)=>{t===r?(e.classList.remove("text-black-50"),e.classList.add("active","text-black"),D.style.top=`${e.offsetTop}px`):(e.classList.add("text-black-50"),e.classList.remove("active","text-black"))}))}(Number(h.index))}))})),h.mount(),k.mount(),P.addEventListener("click",(()=>{h.go("-1")})),j.addEventListener("click",(()=>{h.go("+1")}))}let q=document.querySelector(".reviews-slider");if(q){q=new Splide(q,{speed:700,arrows:!1,pagination:!1,gap:30,perPage:1,rewind:!0});let I=document.querySelector(".reviews-slider-left-arrow"),O=document.querySelector(".reviews-slider-right-arrow"),F=document.querySelector(".reviews-slider-pagination"),W=document.querySelector(".reviews-slider-pagination-runner");q.on("mounted updated",(function(e){F.innerHTML="",q.Components.Elements.slides.forEach(((e,t)=>{let r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("reviews-slider-pagination-button","text-black-50","mb-[16px]","text-[18px]"),r.textContent=e.dataset.reviewsName,0===t&&r.classList.add("active","text-black"),r.addEventListener("click",(()=>{q.go(t)})),F.appendChild(r)}));let t=F.querySelectorAll(".reviews-slider-pagination-button");q.on("active",(e=>{!function(e){let r=e;t.forEach(((e,t)=>{t===r?(e.classList.remove("text-black-50"),e.classList.add("active","text-black"),W.style.top=`${e.offsetTop}px`):(e.classList.add("text-black-50"),e.classList.remove("active","text-black"))}))}(Number(q.index))}))})),q.mount(),I.addEventListener("click",(()=>{q.go("-1")})),O.addEventListener("click",(()=>{q.go("+1")}))}let E=document.querySelector(".reviews");if(E){let Y=document.querySelector(".reviews-modal"),Z=Y.querySelector(".modal-container"),B=Y.querySelector(".modal-body"),G=Y.querySelector(".close-button"),J=Y.querySelector(".modal-content"),K=document.querySelectorAll(".reviews-text-container"),Q=document.querySelectorAll(".reviews-read-all-button"),R=[];function U(){Q[0].offsetWidth>0&&Q[0].offsetHeight>0&&K.forEach((e=>{let t=Array.from(e.querySelectorAll("p")),r=t[0].className,o=[];for(let e=0;e<t.length;e++){let n=t[e].cloneNode(!0);n.className=r,o.push(n)}R.push(o)}))}function V(e){Y.style.display="flex",setTimeout((()=>{Y.classList.add("opacity-100","reviews-modal--active"),Z.classList.add("opacity-100","translate-y-0")}),10);let t=R[e];J.innerHTML="",t.forEach((e=>{J.appendChild(e.cloneNode(!0))})),Y.addEventListener("click",(e=>{(!e.target===B&&Y.classList.contains("reviews-modal--active")||e.target===Y||e.target===G)&&X()}))}function X(){Y.classList.remove("opacity-100","reviews-modal--active"),Z.classList.remove("opacity-100","translate-y-0"),setTimeout((()=>{Y.removeAttribute("style"),J.innerHTML=""}),400),Y.removeEventListener("click",X)}U(),window.addEventListener("resize",e((()=>{U()}),300)),Q.forEach(((e,t)=>{e.addEventListener("click",(()=>{V(t)}))}))}if(E){function ee(){let e=document.querySelector(".reviews-right-col").offsetHeight;document.documentElement.style.setProperty("--pagination-height",`${e}px`)}ee(),window.addEventListener("resize",e((()=>{ee()}),300))}let C=document.querySelector(".send-review-button");if(C){let te=document.querySelector(".contacts-review-form"),re=te.querySelector(".close-review-form-button");function oe(){te.classList.remove("hidden"),te.classList.add("block"),setTimeout((()=>{te.classList.add("opacity-100")}),10)}function ne(){te.classList.remove("opacity-100"),setTimeout((()=>{te.classList.add("hidden"),te.classList.remove("block")}),550)}C.addEventListener("click",oe),re.addEventListener("click",ne)}let A=document.querySelector(".copyright-year");A&&(A.textContent=(new Date).getFullYear());let T=document.querySelector("#contacts-map");if(T){function ie(){T=new ymaps.Map(T,{center:[59.931765080896845,30.35767835426295],zoom:17});let e=new ymaps.Placemark([59.931765080896845,30.35767835426295],{},{iconLayout:"default#image",iconImageHref:"img/pin-map.svg",iconImageSize:[49,60],iconImageOffset:[-19,-44]});T.geoObjects.add(e),T.behaviors.disable(["scrollZoom"]),T.controls.remove("zoomControl")}ymaps.ready(ie)}}));